# 名づける

## 名は体をあらす

「名は体を表す」とは、「物や人の名前は、その本質や実体をよく表している」という意味のことわざです。
つまり、名前とその実体は一致するという考え方です。

この言葉の由来は仏教の概念「名体不二（みょうたいふに）」にあるそうです。
これは、「名前とその本質は切り離せない」という教えで、特に阿弥陀仏の名号がそのまま阿弥陀仏の本体の功徳を表しているという考え方に基づいているそうです。

ソースコードを記述する場合、以下のような **名前** はプログラマが自由に定義できます。

* メソッド名 (関数名)
* プロパティ名 (変数名)
* ユーザ定義クラスやインタフェース名 (型名)

これらの **名前** は、まさに「名は体をあらわす」ように名づけたほうが、圧倒的に読みやすくなります。

例えば、下記のようなコードを見てみよう。

```typescript
const flg:boolean = (someValue % 2) === 1;
// ...
if (flg) {
    // someValueが奇数だった場合
}
```

このときコメント文の `// someValueが奇数だった場合` が無かったら、`flg` が何を意味するかわからないです。
そこで、次のように書けばどうでしょうか。

```typescript
const someValueIsOdd:boolean = (someValue % 2) === 1;
// ...
if (someValueIsOdd) {
    // ...
}
```

`Odd` が奇数であるということがわかれば、明らかに「`someValue`が奇数だった場合」ということがわかります。
ここでは、このような「名前付け」が「よみさすさ」にどのように影響を及ぼすかを見ます。

まず、「よみにくくなる」よくある例(アンチパターン)をいくつか示します。
そのうえで、最低限の名前づけルールの考え方を示します。

## よくあるアンチパターン

### 適当な名前付け

筆者は小学生のとき、初めてロールプレイングゲームを遊んだ。
当時はインターネットもなく、ロールプレイングゲームがいったいどういうものかもわからず遊び始めたのを覚えている。
「なまえをにゅうりょくしてください」といわれ、いい名前を思いつかず、**適当に「ああああ」と入力して** ゲームを開始してしまった。

![適当な名前](../../assets/img/yusha.png)

当然のことながら、ゲーム内で、「むらびと」や「おおさま」が主人公のことを「ああああ」と呼び始める。
**ラスボスまで、主人公のことを「ああああ」呼ぶ始末**。
ストーリーが全く頭に入らず、とても苦い経験をしました。

プログラミングも同様です。ソースコードに「読んでもらいたい」という気持ちを込めて名前をつけましょう。
以下に避けるべき名前のつけ方を列挙します。

* 一文字の変数名 (例: `a`, `b`, `c`)
* 何も考えていない (例: `abc`, `xyz`)
* 理由もなく連番が入っている (例: `test001`, `method1`)
* 作者の名前が入ってしまっている (例: `matumotoFlg`)

::div{.note title="ノート"}

例外はもちろんあります。
以下のような変数は1文字からなる変数ですが、それ自身が意味を持つのでそのまま使ってもかまいせん。
しかし、もし長い変数名が許されるなら、修飾を付け加えることを推奨します。

* 座標をあらわす: `x`, `y`, `z`, `r`
* インデックス: `i`, `j`, `k`

::

### 羊頭狗肉

```typescript
function writeFile(fileName: string): void{
    // ....
}
```

### 形骸化したプロジェクト基準

### 老朽化したハンガリアン記法

```cpp
char_t* pszGreeting = "Hello World.";
DWORD dwUnexpectedError = 0x8000FFFF;
```

ハンガリアン記法 (Hungarian notation) とは、主に変数名に特別な接頭文字や接尾文字をつける表記法のひとつです。
他の人がその変数名を見たときに、使用方法、データ型情報などが分かるようにするための命名法です。

考案者である、チャールズ・シモニーがハンガリー出身なので、このような呼ばれ方をします。

ただし、近年のプログラミングの慣習ではあまり使われることはありません。
近年は統合開発環境が整備さたので、開発環境上で変数の情報をマウスホバーで簡単にわかるようになりました。
Java, C#,TypeScript, Python といった高級なプログラミング言語から入門したプログラマはそもそも存在すら知らないです。
そのため、新規でコードを書く場合、　**特に事情がない限りハンガリアン記法を使うべきではありません。**

ところが、レガシーシステムをメンテナンスする場合、このようなコードが残っている可能性が高いです。
このような場合、ハンガリアン記法を無視してコードを記述すると、後の保守者は他コードと並べて見ることになります。
そして、彼はいうはずです。

「なんでここだけスタイル違うの？気になって読めないよ。」

既存コードがハンガリアン記法で記述されていた場合、**十分ハンガリアン記法を学習して周りのコードとの違和感を出さない努力をすべきです。**

## 最低限の名づけルール

### 大文字/小文字

### 動詞/名詞

